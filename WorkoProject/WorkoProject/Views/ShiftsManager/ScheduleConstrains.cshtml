@using Entities;
@using WorkoProject.Models;

@model List<ScheduleConstrainsDC>

@{
    ViewBag.Title = "הגשת אילוצי סידור עבודה";
    Layout = "~/Views/Shared/_ControlLayout.cshtml";

    int wsid = (int)ViewData["WSID"];
    var stations = ViewData["Stations"] as List<StationDC>;
    var shifts = new WorkScheduleTemplate().Shifts;
}

<h2>הגשת אילוצי סידור עבודה</h2>
<div class="row" id="schedule-constrains">
    <div class="col-lg-12">
        <div class="panel panel-default">
            <div class="panel-heading">
                <p>כאן יופיע הסבר...</p>
            </div>
            <!-- /.panel-heading -->
            <div class="panel-body">
                <input type="hidden" name="wsid" id="WSID" value="@wsid" />

                @foreach (var s in stations)
                {
                    <div class="row clickable station" data-stationid="@s.Id">
                        <div class="pic col-md-1"><img alt="@s.Name" src="~/Content/img/default_user.png" height="50" width="50" /></div>
                        <div class="station-name field col-md-10">@s.Name</div>
                        <div class="col-md-1"><i class="fa fa-times close pull-left hide"></i></div>
                    </div>
                    <div class="row week-table hide">
                        <div class="table-responsive">
                            @using (Html.BeginForm())
                            {
                                <table class="table table-striped table-bordered table-hover">
                                    <thead>
                                        <tr>
                                            <th class="shift-name">משמרת</th>
                                            <th>ראשון</th>
                                            <th>שני</th>
                                            <th>שלישי</th>
                                            <th>רביעי</th>
                                            <th>חמישי</th>
                                            <th>שישי</th>
                                            <th>שבת</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr data-shift="1">
                                            <td class="shift-name">בוקר</td>
                                            @for (int i = 0; i < 7; i++)
                                        {
                                        <td class="shift @(shifts[i].IsActive ? "clickable" : string.Empty)" data-day="@i">
                                            <div>
                                                <select>
                                                    <option value="-1" selected>סטטוס</option>
                                                    <option value="1">פעילה</option>
                                                    <option value="2">לא פעילה</option>
                                                    <option value="3">בתיקון</option>
                                                </select>
                                            </div>
                                            <div>
                                                <input type="number" placeholder="מספר עובדים" />
                                            </div>
                                            <div>
                                                <select>
                                                    <option value="-1" selected>עדיפות</option>
                                                    <option value="1">1</option>
                                                    <option value="2">2</option>
                                                    <option value="3">3</option>
                                                    <option value="4">4</option>
                                                    <option value="5">5</option>
                                                </select>
                                            </div>
                                        </td>
                                        }
                                        </tr>
                                        <tr data-shift="2">
                                            <td class="shift-name">צהריים / ערב</td>
                                            @for (int i = 7; i < 14; i++)
                                        {
                                        <td class="shift @(shifts[i].IsActive ? "clickable" : string.Empty)" data-day="@i">
                                            <div>
                                                <select>
                                                    <option value="-1" selected>סטטוס</option>
                                                    <option value="1">פעילה</option>
                                                    <option value="2">לא פעילה</option>
                                                    <option value="3">בתיקון</option>
                                                </select>
                                            </div>
                                            <div>
                                                <input type="number" placeholder="מספר עובדים" />
                                            </div>
                                            <div>
                                                <select>
                                                    <option value="-1" selected>עדיפות</option>
                                                    <option value="1">1</option>
                                                    <option value="2">2</option>
                                                    <option value="3">3</option>
                                                    <option value="4">4</option>
                                                    <option value="5">5</option>
                                                </select>
                                            </div>
                                        </td>
                                        }
                                        </tr>
                                        <tr data-shift="3">
                                            <td class="shift-name">לילה</td>
                                            @for (int i = 14; i < 21; i++)
                                        {
                                        <td class="shift @(shifts[i].IsActive ? "clickable" : string.Empty)" data-day="@i">
                                            <div>
                                                <select>
                                                    <option value="-1" selected>סטטוס</option>
                                                    <option value="1">פעילה</option>
                                                    <option value="2">לא פעילה</option>
                                                    <option value="3">בתיקון</option>
                                                </select>
                                            </div>
                                            <div>
                                                <input type="number" placeholder="מספר עובדים" />
                                            </div>
                                            <div>
                                                <select>
                                                    <option value="-1" selected>עדיפות</option>
                                                    <option value="1">1</option>
                                                    <option value="2">2</option>
                                                    <option value="3">3</option>
                                                    <option value="4">4</option>
                                                    <option value="5">5</option>
                                                </select>
                                            </div>
                                        </td>
                                        }
                                        </tr>
                                    </tbody>
                                </table>
                                <button type="submit" class="btn btn-primary pull-left">עדכן אילוצי משמרת</button>
                            }
                        </div>
                        <!-- /.table-responsive -->
                    </div>
                }
            </div>
            <!-- /.panel-body -->
        </div>
        <!-- /.panel -->
    </div>
</div>
